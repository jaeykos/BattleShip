(()=>{"use strict";var t={604:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Action=void 0;const s=i(340),o=i(423);e.Action=class{static hoverWithShip(){}static placeNextShip(t,e,i){const a=s.DOM.getTileCoord(i)[0],l=s.DOM.getTileCoord(i)[1];t.placeShip(t.ships[e],a,l);const r=t.ships[e];for(let t=0;t<r.span;t++){let e,i;r.direction==o.directions.x?(i=l+t,e=a):(e=a+t,i=l);const d=s.DOM.getTile(e,i,"placementTile");d.classList.remove("placeHoverLegal","animate-pulse"),d.classList.add("shipPlaced")}}static displayHint(t,e,i){var a;const l=null===(a=document.getElementById("gameboardDiv"))||void 0===a?void 0:a.children;for(const t of l)t.classList.remove("placeHoverLegal","animate-pulse"),t.classList.remove("placeHoverIllegal","animate-pulse");const r=s.DOM.getTileCoord(i)[0],d=s.DOM.getTileCoord(i)[1],n=t.ships[e];let c=!0;for(let e=0;e<n.span;e++){let i,s;if(n.direction==o.directions.x?(s=d+e,i=r):(i=r+e,s=d),i<0||i>9||s<0||s>9){c=!1;break}if(t.board[i][s].isOccupied){c=!1;break}}for(let t=0;t<n.span;t++){let e,i;n.direction==o.directions.x?(i=d+t,e=r):(e=r+t,i=d);const a=s.DOM.getTile(e,i,"placementTile");e<0||e>9||i<0||i>9||(c?a.classList.add("placeHoverLegal","animate-pulse"):a.classList.add("placeHoverIllegal","animate-pulse"))}}static loadBattle(t){var e,i;null===(e=document.getElementById("startMainDiv"))||void 0===e||e.classList.add("hidden"),null===(i=document.getElementById("battleMainDiv"))||void 0===i||i.classList.remove("hidden"),s.DOM.fillGameboardDiv("playerBoardDiv","playerTile"),s.DOM.fillGameboardDiv("botBoardDiv","botTile");for(let e=0;e<10;e++)for(let i=0;i<10;i++)t.board[e][i].isShipPlaced&&s.DOM.getTile(e,i,"playerTile").classList.add("playerShipPlaced")}static botAttacks(t){let e=Math.floor(10*Math.random()),i=Math.floor(10*Math.random());for(;1==t.board[e][i].isShot;)e=Math.floor(10*Math.random()),i=Math.floor(10*Math.random());t.getShot(e,i),t.board[e][i].isHit?s.DOM.getTile(e,i,"playerTile").classList.add("isHit"):s.DOM.getTile(e,i,"playerTile").classList.add("isMiss"),this.displaySunkShips(t,"playerTile")}static displaySunkShips(t,e){const i=t.ships.filter((t=>1==t.isSunk));for(const t of i)for(const i of t.coords)s.DOM.getTile(i[0],i[1],e).classList.add("isSunk")}static playerAttacks(t,e){const i=s.DOM.getTileCoord(t),o=i[0],a=i[1],l=e.board[o][a];l.isShot=!0,e.getShot(o,a),l.isShipPlaced?(l.isHit=!0,t.classList.add("isHit")):(l.isMiss=!0,t.classList.add("isMiss")),this.displaySunkShips(e,"botTile")}static restart(t,e){var i,o,a;null===(i=document.getElementById("resultMessage"))||void 0===i||i.classList.add("hidden"),null===(o=document.getElementById("battleMainDiv"))||void 0===o||o.classList.add("hidden"),null===(a=document.getElementById("startMainDiv"))||void 0===a||a.classList.remove("hidden"),s.DOM.clearGameboardDiv("gameboardDiv"),s.DOM.clearGameboardDiv("playerBoardDiv"),s.DOM.clearGameboardDiv("botBoardDiv"),s.DOM.fillGameboardDiv("gameboardDiv","placementTile"),t.resetPlayer(),e.resetPlayer()}}},900:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Bot=void 0;const s=i(62);class o extends s.Player{autoPlaceShips(){let t=0;do{const e=this.ships[t];if(0==e.isPlaced){const t=Math.floor(10*Math.random()),i=Math.floor(10*Math.random()),s=Math.floor(2*Math.random());e.setDirection(s),this.placeShip(e,t,i)}else t++}while(t<5)}getAutoShot(){let t=Math.floor(10*Math.random()),e=Math.floor(10*Math.random());for(;1==this.board[t][e].isShot;)t=Math.floor(10*Math.random()),e=Math.floor(10*Math.random());this.getShot(t,e)}}e.Bot=o},340:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DOM=void 0,e.DOM=class{static placeShipHover(){}static getTile(t,e,i){const s=10*t+e+1;return document.querySelector(`.${i}:nth-child( `+s+")")}static getTileCoord(t){const e=t.parentNode;if(null!=e){const i=Array.prototype.indexOf.call(e.children,t);return[Math.floor(i/10),i%10]}return[]}static fillGameboardDiv(t,e){const i=document.getElementById(t);for(let t=0;t<100;t++){const t=document.createElement("div");t.classList.add(e),null==i||i.appendChild(t)}}static clearGameboardDiv(t){var e;null===(e=document.getElementById(t))||void 0===e||(e.textContent="")}static displayResult(t){var e,i;throw null===(e=document.getElementById("resultMessage"))||void 0===e||(e.innerHTML=`${t} WON!`),null===(i=document.getElementById("resultMessage"))||void 0===i||i.classList.remove("hidden"),Error}}},62:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;const s=i(884),o=i(615),a=i(423);e.Player=class{constructor(t){this.board=[],this.ships=[],this.isLost=!1,this.name=t;for(let t=0;t<10;t++){this.board.push([]);for(let e=0;e<10;e++)this.board[t].push(new o.Tile(t,e))}this.ships.push(new s.Ship(5)),this.ships.push(new s.Ship(4)),this.ships.push(new s.Ship(3)),this.ships.push(new s.Ship(3)),this.ships.push(new s.Ship(2))}placeShip(t,e,i){t.startCoord=[e,i];const s=[];for(let o=0;o<t.span;o++){let l,r;if(t.direction==a.directions.x?(r=i+o,l=e):(l=e+o,r=i),-1==l||10==l||-1==r||10==r||this.board[l][r].isOccupied)return;s.push([l,r])}for(const e of s){const i=e[0],s=e[1];t.coords.push(e),this.board[i][s].isShipPlaced=!0;for(let t=i-1;t<=i+1;t++)for(let e=s-1;e<=s+1;e++)-1!=t&&10!=t&&-1!=e&&10!=e&&(this.board[t][e].isOccupied=!0)}t.isPlaced=!0}getShot(t,e){this.board[t][e].isShot=!0;let i=!0;for(const s of this.ships)for(const o of s.coords)o[0]==t&&o[1]==e&&(s.hitCoords.push([t,e]),s.isHit=!0,this.board[t][e].isHit=!0,i=!1,s.hitCoords.length==s.span&&(s.isSunk=!0,this.ships.filter((t=>t.isSunk)).length==this.ships.length&&(this.isLost=!0)));1==i&&(this.board[t][e].isMiss=!0)}resetPlayer(){this.board=[];for(let t=0;t<10;t++){this.board.push([]);for(let e=0;e<10;e++)this.board[t].push(new o.Tile(t,e))}this.ships=[],this.ships.push(new s.Ship(5)),this.ships.push(new s.Ship(4)),this.ships.push(new s.Ship(3)),this.ships.push(new s.Ship(3)),this.ships.push(new s.Ship(2)),this.isLost=!1}}},884:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Ship=void 0;const s=i(423);e.Ship=class{constructor(t){this.startCoord=[],this.coords=[],this.span=0,this.hitCoords=[],this.isHit=!1,this.isSunk=!1,this.isPlaced=!1,this.direction=s.directions.x,this.span=t}setDirection(t){this.direction=t}switchDirection(){this.direction==s.directions.x?this.direction=s.directions.y:this.direction=s.directions.x}}},615:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Tile=void 0,e.Tile=class{constructor(t,e){this.isHit=!1,this.isMiss=!1,this.isShot=!1,this.isOccupied=!1,this.isShipPlaced=!1,this.coord=[t,e]}}},423:(t,e)=>{var i;Object.defineProperty(e,"__esModule",{value:!0}),e.directions=void 0,function(t){t[t.x=0]="x",t[t.y=1]="y"}(i||(i={})),e.directions=i}},e={};function i(s){var o=e[s];if(void 0!==o)return o.exports;var a=e[s]={exports:{}};return t[s](a,a.exports,i),a.exports}(()=>{const t=i(62),e=i(900),s=i(604),o=i(340),a=new t.Player("player"),l=new e.Bot("bot");o.DOM.fillGameboardDiv("gameboardDiv","placementTile"),l.autoPlaceShips();let r=0;document.addEventListener("click",(t=>{t.target instanceof HTMLElement&&(t.target.classList.contains("placeHoverLegal")&&(s.Action.placeNextShip(a,r,t.target),r++,5==r&&s.Action.loadBattle(a)),"switchDirectionBtn"==t.target.id&&a.ships[r].switchDirection(),"restartBtn"==t.target.id&&(r=0,s.Action.restart(a,l)),t.target.classList.contains("botTile")&&(s.Action.playerAttacks(t.target,l),l.isLost&&o.DOM.displayResult("PLAYER"),s.Action.botAttacks(a),a.isLost&&o.DOM.displayResult("BOT")))})),document.addEventListener("mouseover",(t=>{t.target instanceof HTMLElement&&t.target.classList.contains("placementTile")&&s.Action.displayHint(a,r,t.target)}))})()})();